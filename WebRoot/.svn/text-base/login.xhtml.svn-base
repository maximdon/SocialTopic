<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:s="http://softlibsw.com/cc"
	xmlns:jawr="https://jawr.dev.java.net/jsf/facelets">
	
	<head>
		<title>iMatch Login</title>
		
		<jawr:style src="/css/iMatch/login/login.css" />
		<jawr:style src="/css/iMatch/default.css" />
		
		<script>
			function fOnload()
			{
				MaxWindow();
			}
					
			function fOnkeypress(e)
			{
				try
				{
					var key = e.keyCode || e.which;
					if (key==13)
					{
						document.forms[0].submit();
					}
				}
				catch(e)
				{
				}
			}
			
			function MaxWindow()
			{
				window.moveTo(0,0);
				window.resizeTo(screen.availWidth,screen.availHeight);
			}
		</script>
		<style type="text/css">
			html, body
			{
				height: 95%;
				width: 99%;
			}
		</style>
	</head>
	<body onload="fOnload()">
		<f:view>
			<f:loadBundle basename="com.softlib.imatch.resources.MessageBundle" var="bundle"/>
			<table style="width: 100%; height: 100%;">
				<tr>
					<td align="center">
						<table id="LoginTable">
							<tr>
								<td>
									&nbsp;
								</td>
							</tr>
							<tr>
								<td align="center" height="210" style="padding: 20px;">
									<h:form id="loginForm">
										<table id="LoginFormLayout" border="0">
											<tr>
												<td colspan="3">
													<s:msg name="#{param.msg}" style="color: #cc0000;" />
													<h:messages id="loginMessages" layout="table" style="color: #cc0000;"/>
												</td>
											</tr>
											<tr>
												<td style="text-align: left;">
													<h:outputText value="#{bundle.login_username_label}" />
												</td>
												<td>
													<h:inputText id="username" value="#{userBean.user.username}" />
												</td>
											</tr>
											<tr>
												<td style="text-align: left;">
													<h:outputText value="#{bundle.login_password_label}" />
												</td>
												<td>
													<h:inputSecret id="password" value="#{userBean.user.password}" />
												</td>
											</tr>
											<c:if test="#{securityBean.security.loginPinCode}">
												<tr>
													<td style="text-align: left;">
														<h:outputText value="#{bundle.login_pinCode_label}" />
													</td>
													<td>
														<h:inputSecret id="pinCode" value="#{userBean.user.pinCode}" />
													</td>
												</tr>
											</c:if>
											<c:if test="#{securityBean.security.loginExtra}">
												<tr>
													<td style="text-align: left;">
														<h:outputText value="#{bundle.login_extra_label}" />
													</td>
													<td>
														<h:inputSecret id="extra" value="#{userBean.user.extra}" />
													</td>
												</tr>
											</c:if>
											<tr>
												<td colspan="2" style="text-align: left;">
													<h:selectBooleanCheckbox value="#{userBean.rememberMe}" />
													<h:outputText value="#{bundle.login_remember_me_label}"></h:outputText>
												</td>
											</tr>
											<tr>
												<td colspan="2" id="LoginButtons" align="center">
													<h:commandButton value="#{bundle.login_button_label}" action="#{userBean.loginUser}"></h:commandButton>
												</td>
											</tr>
										</table>
									</h:form>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</f:view>
	</body>
</html>
